{
  "name": "service_at_location",
  "path": "service_at_location.csv",
  "description": "A link between a service and a specific location.",
  "datapackage_metadata": {
    "format": "csv",
    "mediatype": "text/csv",
    "profile": "tabular-data-resource",
    "order": 5
  },
  "type": "object",
  "properties": {
    "id": {
      "name": "id",
      "type": "string",
      "title": "Identifier",
      "description": "The identifier of the service at location entry. Each entry must have a unique identifier.",
      "constraints": {
        "unique": true
      },
      "example": "service-id-1234",
      "core": "Y"
    },
    "service_id": {
      "name": "service_id",
      "type": "string",
      "title": "Service Identifier",
      "description": "The identifier of the service at a given location.",
      "constraints": {
        "unique": false
      },
      "example": "ac148810-d857-441c-9679-408f346de14b",
      "core": "Y"
    },
    "location_id": {
      "name": "location_id",
      "type": "number",
      "title": "Location Identifier",
      "description": "The identifier of the location where this service operates.",
      "constraints": {
        "unique": false
      },
      "example": "1234",
      "core": "Y"
    },
    "location": {
      "name": "location",
      "path": "locations.csv",
      "description": "The details of the locations where organizations operate. Locations may be virtual, and one organization may have many locations.",
      "datapackage_metadata": {
        "format": "csv",
        "mediatype": "text/csv",
        "profile": "tabular-data-resource",
        "order": 6
      },
      "type": "object",
      "properties": {
        "id": {
          "name": "id",
          "type": "number",
          "title": "Identifier",
          "description": "The identifier of the location. Each location must have a unique identifier.",
          "constraints": {
            "unique": true
          },
          "example": "1234",
          "core": "Y"
        },
        "location_type": {
          "name": "location_type",
          "type": "string",
          "title": "Location Type",
          "description": "The type of location, which can only be postal for now.",
          "constraints": {
            "unique": false
          },
          "core": "Y",
          "const": "postal"
        },
        "url": {
          "name": "url",
          "type": "string",
          "title": "URL",
          "description": "If location_type is virtual, then this field represents the URL of a virtual location.",
          "format": "uri",
          "constraints": {
            "unique": false
          },
          "example": "http://example.com",
          "core": "Y"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "number",
          "title": "Organization Identifier",
          "description": "The organization identifier for a location. This is the organization that is responsible for maintaining information about this location. The identifier of the organization should be given here. Details of the services the organization delivers at this location should be provided in the services_at_location table.",
          "constraints": {
            "unique": false
          },
          "example": "1234"
        },
        "name": {
          "name": "name",
          "type": "string",
          "title": "Name",
          "description": "The name of the location.",
          "constraints": {
            "unique": false
          },
          "example": "MyCity Civic Center",
          "core": "Y"
        },
        "description": {
          "name": "description",
          "type": "string",
          "title": "Description",
          "description": "A free text description of the location.",
          "constraints": {
            "unique": false
          },
          "example": "MyCity Civic Center is located on Main Street and contains facilities for a number of civic and community services available.",
          "core": "Y"
        },
        "latitude": {
          "name": "latitude",
          "type": "number",
          "title": "Latitude",
          "description": "The latitude of the location expressed in decimal degrees in WGS84 datum.",
          "constraints": {
            "unique": false
          },
          "example": "100",
          "core": "Y"
        },
        "longitude": {
          "name": "longitude",
          "type": "number",
          "title": "Longitude",
          "description": "The longitude of the location expressed in decimal degrees in WGS84 datum.",
          "constraints": {
            "unique": false
          },
          "example": "101",
          "core": "Y"
        }
      },
      "required": [
        "id",
        "location_type",
        "name"
      ],
      "title": "Location"
    },
    "service": {
      "name": "service",
      "path": "services.csv",
      "description": "The details of the services provided by organizations to a range of different groups.",
      "datapackage_metadata": {
        "format": "csv",
        "mediatype": "text/csv",
        "profile": "tabular-data-resource",
        "order": 3
      },
      "type": "object",
      "properties": {
        "id": {
          "name": "id",
          "type": "string",
          "title": "Identifier",
          "description": "The identifier for the service. Each service must have a unique identifier.",
          "constraints": {
            "unique": true
          },
          "example": "ac148810-d857-441c-9679-408f346de14b",
          "core": "Y"
        },
        "name": {
          "name": "name",
          "type": "string",
          "title": "Name",
          "description": "The official or public name of the service.",
          "constraints": {
            "unique": false
          },
          "example": "Community Counselling",
          "core": "Y"
        },
        "description": {
          "name": "description",
          "type": "string",
          "title": "Description",
          "description": "A free text description of the service.",
          "constraints": {
            "unique": false
          },
          "example": "Counselling Services provided by trained professionals. Suitable for people with mental health conditions such as anxiety, depression, or eating disorders as well as people experiencing difficult life events and circumstances. ",
          "core": "Y"
        },
        "status": {
          "name": "status",
          "type": "string",
          "title": "Status",
          "description": "The current status of the service which can be active, inactive, defunct, or temporarily closed.",
          "constraints": {
            "unique": false
          },
          "example": "active",
          "core": "Y",
          "enum": [
            "active",
            "inactive",
            "defunct",
            "temporarily closed"
          ]
        },
        "fees_description": {
          "name": "fees_description",
          "type": "string",
          "title": "Fees Description",
          "description": "A free text description of any charges for service users to access this service.",
          "constraints": {
            "unique": false
          },
          "example": "Non-NHS patients are expected to pay for their counselling sessions. We charge a flat rate per hour of counselling. The current rate is \u00a350 per hour. Please see our website for up to date prices."
        },
        "fees": {
          "name": "fees",
          "type": "string",
          "title": "Fees",
          "description": "DEPRECATED: Details of any charges for service users to access this service.",
          "constraints": {
            "unique": false
          },
          "example": "fees_description"
        },
        "minimum_age": {
          "name": "minimum_age",
          "type": "number",
          "title": "Minimum Age",
          "description": "The minimum age of a person required to meet this eligibility requirement.",
          "constraints": {
            "unique": false
          },
          "example": "12"
        },
        "maximum_age": {
          "name": "maximum_age",
          "type": "number",
          "title": "Maximum Age",
          "description": "The maximum age of a person required to meet this eligibility requirement.",
          "constraints": {
            "unique": false
          },
          "example": "100"
        },
        "assured_date": {
          "name": "assured_date",
          "type": "string",
          "title": "Assured Date",
          "description": "The date that the information about the service was last checked.",
          "constraints": {
            "unique": false
          },
          "example": "2005-01-01",
          "datapackage_type": "date"
        },
        "assurer_email": {
          "name": "assurer_email",
          "type": "string",
          "title": "Assurer Email",
          "description": "The contact e-mail address for the person or organization which last assured the service.",
          "format": "email",
          "constraints": {
            "unique": false
          },
          "example": "email@example.com"
        },
        "last_modified": {
          "name": "last_modified",
          "type": "string",
          "format": "date-time",
          "datapackage_type": "datetime",
          "title": "Last Modified",
          "description": "The datetime when the service, or any related information about the service, has changed. Should have millisecond accuracy.",
          "constraints": {
            "unique": false
          },
          "example": "2023-03-15T10:30:45.123Z"
        }
      },
      "required": [
        "id",
        "name",
        "status"
      ]
    }
  },
  "required": [
    "id"
  ],
  "tabular_required": [
    "service_id",
    "location_id"
  ]
}